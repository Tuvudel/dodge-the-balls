<!DOCTYPE html>
<html>
<head>
    <title>Dodge the Spiked Balls</title>
    <script>
        // Auto-redirect to built game or show build instructions
        async function init() {
            // Check if we're on webpack dev server (port 3000) or localhost
            const isDevServer = window.location.port === '3000' ||
                              window.location.hostname === 'localhost' ||
                              window.location.hostname === '127.0.0.1';

            try {
                // First try to fetch the built game
                const response = await fetch('docs/index.html', { method: 'HEAD' });
                if (response.ok) {
                    // Game is built - redirect to it
                    window.location.href = 'docs/index.html';
                } else {
                    throw new Error('Game not built');
                }
            } catch (error) {
                // If we're on webpack dev server, the files might be served from root
                if (isDevServer) {
                    try {
                        // Try to check if we can access the current page (indicates dev server is running)
                        const currentPage = await fetch(window.location.href, { method: 'HEAD' });
                        if (currentPage.ok) {
                            // We're on dev server - try to load the game directly
                            // The webpack dev server serves the built files
                            window.location.href = './';
                            return;
                        }
                    } catch (devError) {
                        // Continue to show instructions
                    }
                }

                // Game not built or not on dev server - show instructions
                document.body.innerHTML = `
                    <div style="font-family: Arial, sans-serif; text-align: center; padding: 50px;">
                        <h1>ðŸŽ® Dodge the Spiked Balls</h1>
                        <p style="color: #666; margin: 20px 0;">Game not built yet. Run these commands:</p>
                        <div style="background: #f5f5f5; padding: 20px; border-radius: 5px; display: inline-block; margin: 10px;">
                            <code style="font-family: monospace;">npm run build</code>
                        </div>
                        <br>
                        <div style="background: #f5f5f5; padding: 20px; border-radius: 5px; display: inline-block; margin: 10px;">
                            <code style="font-family: monospace;">npm run dev</code>
                        </div>
                        <p style="margin-top: 20px;">
                            <a href="https://github.com/tuvudel/dodge-the-spiked-balls" style="color: #007acc;">View on GitHub</a>
                        </p>
                    </div>
                `;
            }
        }
        init();
    </script>
</head>
<body>
    <!-- Loading... -->
</body>
</html>